<div th:fragment="editarPacienteFragment" class="card shadow-sm p-4">
    <h4 class="mb-4 text-primary">Editar Paciente</h4>
    <div th:if="${mensaje}" class="alert alert-warning" th:text="${mensaje}"></div>
    <form id="form-paciente"
          th:action="@{/Admin/EditarPaciente}"
          method="post"
          onsubmit="enviarFormularioParcial(event, 'form-paciente')"
          th:object="${paciente}">

        <input type="hidden" th:field="*{id}" />
        <input type="hidden" th:field="*{usuarioId}" />

        <div class="mb-3">
            <label class="form-label" for="nombre">Nombre</label>
            <input type="text" th:field="*{nombre}" class="form-control" required />
            <div class="text-danger" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label" for="apellidos">Apellidos</label>
            <input type="text" th:field="*{apellidos}" class="form-control" required />
            <div class="text-danger" th:if="${#fields.hasErrors('apellidos')}" th:errors="*{apellidos}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label" for="dni">DNI</label>
            <input type="text" th:field="*{dni}" class="form-control" required />
            <div class="text-danger" th:if="${#fields.hasErrors('dni')}" th:errors="*{dni}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label" for="telefono">Teléfono</label>
            <input type="text" th:field="*{telefono}" class="form-control" />
        </div>

        <div class="mb-3">
            <label class="form-label" for="email">Correo electrónico</label>
            <input type="email" th:field="*{email}" class="form-control" required />
            <div class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
        </div>

        <hr />
        <h5 class="text-secondary mb-3">Datos de Usuario</h5>

        <div class="mb-3">
            <label class="form-label" for="username">Nombre de Usuario</label>
            <input type="text" th:field="*{username}" class="form-control" required />
            <div class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
        </div>

        <div class="mb-3">
            <label class="form-label" for="password">Contraseña</label>
            <input type="password" th:field="*{password}" class="form-control" required />
            <div class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
        </div>

        <div class="d-flex justify-content-end gap-2">
            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
            <button type="button" class="btn btn-secondary" onclick="cargarVista('Admin', 'Pacientes')">Cancelar</button>
        </div>
    </form>
</div>
